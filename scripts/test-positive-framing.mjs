/**
 * Positive Framing ê²€ì¦ ìŠ¤í¬ë¦½íŠ¸
 * TypeScript import ë¬¸ì œ íšŒí”¼ë¥¼ ìœ„í•´ ì§ì ‘ í…ŒìŠ¤íŠ¸ ë¡œì§ êµ¬í˜„
 */

console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ“‹ Positive Framing ê²€ì¦ í…ŒìŠ¤íŠ¸');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

// ===== 1ë‹¨ê³„: ë§¤í•‘ í…Œì´ë¸” ê²€ì¦ =====
const POSITIVE_FRAMING_MAP = {
  'ì—„ê²©í•˜ê³ ': 'ëª…í™•í•œ ê¸°ì¤€ì„ ê°€ì§€ê³ ',
  'ì—„ê²©í•œ': 'ëª…í™•í•œ ê¸°ì¤€ì„ ê°€ì§„',
  'ì—„ê²©í•¨': 'ëª…í™•í•œ ê¸°ì¤€',
  'ì†Œê·¹ì ì´ì§€ë§Œ': 'ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì§€ë§Œ',
  'ì†Œê·¹ì ì¸': 'ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€',
  'ì†Œê·¹ì ': 'ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì€',
  'ê³„íšì„± ì—†ìŒ': 'ì¦‰í¥ì ì´ê³  ìœ ì—°í•œ',
  'ê³„íšì„± ì—†ëŠ”': 'ì¦‰í¥ì ì´ê³  ìœ ì—°í•œ',
  'ê°ì •ì ì¸': 'ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ',
  'ê°ì •ì ': 'ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œ',
  'ëƒ‰ì •í•˜ê²Œ': 'ì´ì„±ì ì´ê³  ê°ê´€ì ìœ¼ë¡œ',
  'ëƒ‰ì •í•œ': 'ì´ì„±ì ì´ê³  ê°ê´€ì ì¸',
  'ëƒ‰ì •í•¨': 'ì´ì„±ì ì´ê³  ê°ê´€ì ì¸',
  'ë¬´ëšëší•œ': 'ì¹¨ì°©í•˜ê³  ì°¨ë¶„í•œ',
  'ë¬´ëšëší•¨': 'ì¹¨ì°©í•˜ê³  ì°¨ë¶„í•¨',
  'ë‚´ì„±ì ì´ì§€ë§Œ': 'ë‚´ë©´ì´ ê¹Šê³  ì‚¬ìƒ‰ì ì´ì§€ë§Œ',
  'ë‚´ì„±ì ì¸': 'ë‚´ë©´ì´ ê¹Šê³  ì‚¬ìƒ‰ì ì¸',
  'ë‚´ì„±ì ': 'ë‚´ë©´ì´ ê¹Šê³  ì‚¬ìƒ‰ì ì¸',
  'ì™¸í–¥ì ì¸': 'í™œë°œí•˜ê³  ì‚¬êµì ì¸',
  'ì™¸í–¥ì ': 'í™œë°œí•˜ê³  ì‚¬êµì ì¸',
  'ì¶©ë™ì ': 'ìˆœê°„ì„ ì¦ê¸°ëŠ”',
  'ì¶©ë™ì ì¸': 'ìˆœê°„ì„ ì¦ê¸°ëŠ”',
  'ì‹ ì¤‘í•œ': 'ì‚¬ë ¤ ê¹Šì€',
  'ì‹ ì¤‘í•¨': 'ì‚¬ë ¤ ê¹ŠìŒ',
  'ë³´ìˆ˜ì ': 'ì•ˆì •ì ì¸',
  'ë³´ìˆ˜ì ì¸': 'ì•ˆì •ì ì¸',
  'ì§„ë³´ì ': 'í˜ì‹ ì ì¸',
  'ì§„ë³´ì ì¸': 'í˜ì‹ ì ì¸',
  'í˜„ì‹¤ì ': 'ì‹¤ìš©ì ì¸',
  'í˜„ì‹¤ì ì¸': 'ì‹¤ìš©ì ì¸',
  'ì´ìƒì ': 'ë¹„ì „ì´ ìˆëŠ”',
  'ì´ìƒì ì¸': 'ë¹„ì „ì´ ìˆëŠ”',
  'ë…¼ë¦¬ì ': 'ë¶„ì„ì ì¸',
  'ë…¼ë¦¬ì ì¸': 'ë¶„ì„ì ì¸',
  'ì§ê´€ì ': 'í†µì°°ë ¥ ìˆëŠ”',
  'ì§ê´€ì ì¸': 'í†µì°°ë ¥ ìˆëŠ”',
  'ë¹„íŒì ì¸': 'ë¶„ì„ì ì¸',
  'ë¹„íŒì ': 'ë¶„ì„ì ì¸',
  'ë¶€ì •ì ìœ¼ë¡œ': 'ì‹ ì¤‘í•˜ê²Œ',
  'ë¶€ì •ì ì¸': 'ì‹ ì¤‘í•œ',
  'ë¶€ì •ì ': 'ì‹ ì¤‘í•œ',
  'ì‹¤íŒ¨': 'ë„ì „',
  'ê±°ì ˆ': 'ì„ íƒ',
};

// toPositiveFraming í•¨ìˆ˜ êµ¬í˜„
const FRAMING_REGEX = (() => {
  const sortedKeys = Object.keys(POSITIVE_FRAMING_MAP).sort((a, b) => b.length - a.length);
  const escapedKeys = sortedKeys.map(k => k.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'));
  return new RegExp(escapedKeys.join('|'), 'g');
})();

function toPositiveFraming(text) {
  return text.replace(FRAMING_REGEX, (matched) => POSITIVE_FRAMING_MAP[matched]);
}

// ===== í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ =====
const tests = [
  {
    name: 'ê¸°ë³¸ ë³€í™˜ - ëƒ‰ì •í•œ',
    input: 'ëƒ‰ì •í•œ íŒë‹¨',
    expected: 'ì´ì„±ì ì´ê³  ê°ê´€ì ì¸ íŒë‹¨'
  },
  {
    name: 'ë¶€ì‚¬í˜• - ëƒ‰ì •í•˜ê²Œ',
    input: 'ì„±ê³¼ì™€ ëŠ¥ë ¥ ìœ„ì£¼ë¡œ ëƒ‰ì •í•˜ê²Œ í‰ê°€í•´ì•¼ ê³µì •í•˜ë‹¤.',
    expected: 'ì„±ê³¼ì™€ ëŠ¥ë ¥ ìœ„ì£¼ë¡œ ì´ì„±ì ì´ê³  ê°ê´€ì ìœ¼ë¡œ í‰ê°€í•´ì•¼ ê³µì •í•˜ë‹¤.'
  },
  {
    name: 'ë¹„íŒì ì¸ â†’ ë¶„ì„ì ì¸',
    input: 'SNSì—ì„œ ë¹„íŒì ì¸ ëŒ“ê¸€ì„ ë‹¬ì•˜ë‹¤ë©´?',
    expected: 'SNSì—ì„œ ë¶„ì„ì ì¸ ëŒ“ê¸€ì„ ë‹¬ì•˜ë‹¤ë©´?'
  },
  {
    name: 'ë¶€ì •ì ìœ¼ë¡œ â†’ ì‹ ì¤‘í•˜ê²Œ',
    input: 'ë¶€ì •ì ìœ¼ë¡œ í•´ì„í•˜ì§€ ì•Šë„ë¡',
    expected: 'ì‹ ì¤‘í•˜ê²Œ í•´ì„í•˜ì§€ ì•Šë„ë¡'
  },
  {
    name: 'ì‹¤íŒ¨ â†’ ë„ì „',
    input: 'ì‹¤íŒ¨ ì—†ëŠ” ë² ìŠ¤íŠ¸ì…€ëŸ¬',
    expected: 'ë„ì „ ì—†ëŠ” ë² ìŠ¤íŠ¸ì…€ëŸ¬'
  },
  {
    name: 'ê±°ì ˆ â†’ ì„ íƒ',
    input: 'ê±°ì ˆë‹¹í–ˆì„ ë•Œ',
    expected: 'ì„ íƒë‹¹í–ˆì„ ë•Œ'
  },
  {
    name: 'ê¸´ ë‹¨ì–´ ìš°ì„  - ì†Œê·¹ì ì´ì§€ë§Œ + ì‹ ì¤‘í•¨ ì´ì¤‘ ë³€í™˜',
    input: 'ì†Œê·¹ì ì´ì§€ë§Œ ì‹ ì¤‘í•¨',
    expected: 'ì‹ ì¤‘í•˜ê³  ì‚¬ë ¤ ê¹Šì§€ë§Œ ì‚¬ë ¤ ê¹ŠìŒ'  // "ì†Œê·¹ì ì´ì§€ë§Œ" + "ì‹ ì¤‘í•¨" ë‘˜ ë‹¤ ë³€í™˜
  },
  {
    name: 'ë³µìˆ˜ ë§¤ì¹­',
    input: 'ëƒ‰ì •í•œ íŒë‹¨ê³¼ ë¹„íŒì ì¸ ì‚¬ê³ ',
    expected: 'ì´ì„±ì ì´ê³  ê°ê´€ì ì¸ íŒë‹¨ê³¼ ë¶„ì„ì ì¸ ì‚¬ê³ '
  },
  {
    name: 'ê°ì •ì  â†’ ê³µê° ëŠ¥ë ¥',
    input: 'ê°ì •ì ìœ¼ë¡œ ë°›ì•„ë“¤ì¸ë‹¤',
    expected: 'ê³µê° ëŠ¥ë ¥ì´ ë›°ì–´ë‚œìœ¼ë¡œ ë°›ì•„ë“¤ì¸ë‹¤'
  },
  {
    name: 'ë§¤í•‘ ì—†ëŠ” í…ìŠ¤íŠ¸ ìœ ì§€',
    input: 'í™œë°œí•œ ì„±ê²©',
    expected: 'í™œë°œí•œ ì„±ê²©'
  }
];

let passed = 0;
let failed = 0;

console.log('ğŸ§ª ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰:\n');

tests.forEach((test, index) => {
  const result = toPositiveFraming(test.input);
  const success = result === test.expected;

  if (success) {
    passed++;
    console.log(`âœ… [${index + 1}] ${test.name}`);
  } else {
    failed++;
    console.log(`âŒ [${index + 1}] ${test.name}`);
    console.log(`   ì…ë ¥: "${test.input}"`);
    console.log(`   ì˜ˆìƒ: "${test.expected}"`);
    console.log(`   ì‹¤ì œ: "${result}"`);
  }
});

console.log('\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
console.log('ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼');
console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n');

console.log(`âœ… í†µê³¼: ${passed}/${tests.length}`);
console.log(`âŒ ì‹¤íŒ¨: ${failed}/${tests.length}`);
console.log(`ğŸ“‹ ë§¤í•‘ í…Œì´ë¸”: ${Object.keys(POSITIVE_FRAMING_MAP).length}ê°œ í•­ëª©\n`);

if (failed === 0) {
  console.log('âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼!\n');
  process.exit(0);
} else {
  console.log('âŒ ì¼ë¶€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨\n');
  process.exit(1);
}
