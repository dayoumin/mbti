# Phase 1: ê³µìœ  ê¸°ëŠ¥ êµ¬í˜„ ê³„íš

> **ëª©í‘œ**: SNS ë°”ì´ëŸ´ì„ ìœ„í•œ ê³µìœ  ê¸°ëŠ¥ ì™„ì„±
> **ê¸°ê°„**: 2ì£¼
> **ì„ í–‰ ì¡°ê±´**: í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì™„ì„± (í˜„ì¬ ì™„ë£Œ)

---

## 1. í˜„ì¬ ìƒíƒœ

### ì™„ë£Œëœ ê¸°ëŠ¥
- [x] ShareCard.tsx - Canvas ê¸°ë°˜ ê³µìœ  ì¹´ë“œ (540x720px)
- [x] ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ (PNG)
- [x] ë§í¬ ë³µì‚¬ ê¸°ëŠ¥
- [x] Web Share API ì—°ë™

### ë¯¸ì™„ë£Œ
- [ ] Vercel OG ì´ë¯¸ì§€ ìƒì„± API
- [ ] ì¹´ì¹´ì˜¤í†¡ ê³µìœ  SDK
- [ ] í”Œë«í¼ë³„ ìµœì í™” ì´ë¯¸ì§€ (ë©€í‹° ë¹„ìœ¨)
- [ ] UTM ë¦¬í¼ëŸ´ ì¶”ì 
- [ ] VS íˆ¬í‘œ ê²°ê³¼ ê³µìœ  ì¹´ë“œ

---

## 2. êµ¬í˜„ ê³„íš

### 2.1 Vercel OG ì´ë¯¸ì§€ ìƒì„± (ìš°ì„ ìˆœìœ„ 1)

**ì™œ í•„ìš”í•œê°€?**
- ë§í¬ ê³µìœ  ì‹œ ë¯¸ë¦¬ë³´ê¸° ì´ë¯¸ì§€ ìë™ ìƒì„±
- ìº¡ì²˜ ëŒ€ì‹  ì¼ê´€ëœ ë¸Œëœë”©
- Edgeì—ì„œ 800ms ë‚´ ìƒì„± (ë¹ ë¦„)
- Tailwind CSS ì§€ì› (í˜„ì¬ í”„ë¡œì íŠ¸ í˜¸í™˜)

**êµ¬í˜„í•  ì—”ë“œí¬ì¸íŠ¸:**

```
/api/og/result      - í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì¹´ë“œ
/api/og/vs-poll     - VS íˆ¬í‘œ ê²°ê³¼ ì¹´ë“œ
/api/og/ranking     - ë­í‚¹ ì¹´ë“œ
/api/og/comparison  - ì¹œêµ¬ ë¹„êµ ì¹´ë“œ (Phase 2)
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì¹´ë“œ ìŠ¤í™:**
```typescript
// app/api/og/result/route.tsx
GET /api/og/result?subject=dog&result=golden-retriever&scores=curious:80,active:70,...

â†’ 1200x630 ì´ë¯¸ì§€ ìƒì„± (OG ê¸°ë³¸)
â†’ 1080x1920 ì´ë¯¸ì§€ ìƒì„± (ì„¸ë¡œ, ìŠ¤í† ë¦¬ìš©)
```

**ì¹´ë“œ ë””ìì¸ ìš”ì†Œ:**
- ê·¸ë¼ë””ì–¸íŠ¸ ë°°ê²½ (í…ŒìŠ¤íŠ¸ë³„ í…Œë§ˆ ìƒ‰ìƒ)
- ê²°ê³¼ ì´ëª¨ì§€ + ì´ë¦„
- í•œ ì¤„ ì„¤ëª…
- ì°¨ì›ë³„ ì ìˆ˜ ë°” (ê°„ëµí™”)
- CTA: "ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸° â†’"
- ë¸Œëœë”©: ë¡œê³ /URL

### 2.2 í”Œë«í¼ë³„ ì´ë¯¸ì§€ ë¹„ìœ¨

| ìš©ë„ | ë¹„ìœ¨ | í¬ê¸° | ì‚¬ìš©ì²˜ |
|------|------|------|--------|
| **OG ê¸°ë³¸** | 1.91:1 | 1200x630 | ë§í¬ ë¯¸ë¦¬ë³´ê¸° |
| **ì„¸ë¡œ (ìŠ¤í† ë¦¬)** | 9:16 | 1080x1920 | ì¸ìŠ¤íƒ€/í‹±í†¡ ìŠ¤í† ë¦¬ |
| **ì •ì‚¬ê°** | 1:1 | 1080x1080 | ì¸ìŠ¤íƒ€ í”¼ë“œ |
| **ì¹´ì¹´ì˜¤** | 2:1 | 800x400 | ì¹´ì¹´ì˜¤í†¡ |

**êµ¬í˜„ ë°©ì‹:**
```typescript
// ratio íŒŒë¼ë¯¸í„°ë¡œ ë¹„ìœ¨ ì„ íƒ
GET /api/og/result?...&ratio=story  // 9:16
GET /api/og/result?...&ratio=square // 1:1
GET /api/og/result?...&ratio=kakao  // 2:1
GET /api/og/result?...              // 1.91:1 (ê¸°ë³¸)
```

### 2.3 ì¹´ì¹´ì˜¤í†¡ ê³µìœ  SDK

**êµ¬í˜„ ë‹¨ê³„:**
1. ì¹´ì¹´ì˜¤ ê°œë°œì ì•± ë“±ë¡
2. JavaScript SDK ì„¤ì •
3. ê³µìœ  í…œí”Œë¦¿ ìƒì„±
4. ê³µìœ  ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸

**ê³µìœ  í…œí”Œë¦¿ ì¢…ë¥˜:**
```typescript
// í…ŒìŠ¤íŠ¸ ê²°ê³¼ ê³µìœ 
{
  objectType: 'feed',
  content: {
    title: 'ë‚˜ì˜ ë°˜ë ¤ë™ë¬¼ ìœ í˜•ì€?',
    description: 'ê³¨ë“ ë¦¬íŠ¸ë¦¬ë²„ - í™œë°œí•˜ê³  ì¹œê·¼í•œ ì„±ê²©!',
    imageUrl: '/api/og/result?...',
    link: { webUrl: 'https://...?utm_source=kakao' }
  },
  buttons: [{
    title: 'ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸°',
    link: { webUrl: '...' }
  }]
}
```

### 2.4 UTM ë¦¬í¼ëŸ´ ì¶”ì 

**UTM íŒŒë¼ë¯¸í„° êµ¬ì¡°:**
```
?utm_source=instagram|tiktok|kakao|facebook|copy
&utm_medium=share|story|feed
&utm_campaign=test_result|vs_poll|ranking
&utm_content={subject}_{result}
```

**ì¶”ì  êµ¬í˜„:**
1. ê³µìœ  ì‹œ UTM ìë™ ì¶”ê°€
2. ìœ ì… ì‹œ UTM íŒŒì‹± â†’ localStorage ì €ì¥
3. í…ŒìŠ¤íŠ¸ ì™„ë£Œ ì‹œ ì „í™˜ ê¸°ë¡
4. Dashboardì—ì„œ í†µê³„ í™•ì¸

### 2.5 VS íˆ¬í‘œ ê²°ê³¼ ê³µìœ 

**ì¹´ë“œ ë””ìì¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ± vs ğŸ•              â”‚
â”‚  ê³ ì–‘ì´ vs ê°•ì•„ì§€        â”‚
â”‚                         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  68%        â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘  32%        â”‚
â”‚                         â”‚
â”‚  ì´ 1,234ëª… ì°¸ì—¬         â”‚
â”‚                         â”‚
â”‚  ë‚˜ë„ íˆ¬í‘œí•˜ê¸° â†’         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ og/
â”‚           â”œâ”€â”€ result/route.tsx      # í…ŒìŠ¤íŠ¸ ê²°ê³¼ OG
â”‚           â”œâ”€â”€ vs-poll/route.tsx     # VS íˆ¬í‘œ OG
â”‚           â””â”€â”€ ranking/route.tsx     # ë­í‚¹ OG
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ShareCard.tsx                 # ê¸°ì¡´ (Canvas ê¸°ë°˜)
â”‚   â”œâ”€â”€ ShareModal.tsx                # ê³µìœ  ëª¨ë‹¬ UI
â”‚   â””â”€â”€ KakaoShare.tsx                # ì¹´ì¹´ì˜¤ ê³µìœ  ë²„íŠ¼
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ share.ts                      # ê³µìœ  ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ utm.ts                        # UTM íŒŒì‹±/ìƒì„±
â””â”€â”€ services/
    â””â”€â”€ ShareService.ts               # ê³µìœ  ì¶”ì  ì„œë¹„ìŠ¤
```

---

## 4. êµ¬í˜„ ìˆœì„œ

### Week 1: ê¸°ë°˜ êµ¬ì¶•

| ì¼ | ì‘ì—… | ì‚°ì¶œë¬¼ |
|----|------|--------|
| 1-2 | Vercel OG API ê¸°ë³¸ êµ¬í˜„ | `/api/og/result` |
| 3 | ë©€í‹° ë¹„ìœ¨ ì§€ì› | `ratio` íŒŒë¼ë¯¸í„° |
| 4 | UTM ìœ í‹¸ë¦¬í‹° | `utm.ts` |
| 5 | ê³µìœ  ëª¨ë‹¬ ë¦¬íŒ©í† ë§ | `ShareModal.tsx` |

### Week 2: í”Œë«í¼ ì—°ë™

| ì¼ | ì‘ì—… | ì‚°ì¶œë¬¼ |
|----|------|--------|
| 1-2 | ì¹´ì¹´ì˜¤ SDK ì—°ë™ | `KakaoShare.tsx` |
| 3 | VS íˆ¬í‘œ ê³µìœ  ì¹´ë“œ | `/api/og/vs-poll` |
| 4 | ì¶”ì  ì„œë¹„ìŠ¤ | `ShareService.ts` |
| 5 | í…ŒìŠ¤íŠ¸ & ë²„ê·¸ ìˆ˜ì • | - |

---

## 5. ê¸°ìˆ  ìƒì„¸

### 5.1 Vercel OG ì´ë¯¸ì§€ ìƒì„± ì˜ˆì‹œ

```typescript
// app/api/og/result/route.tsx
import { ImageResponse } from 'next/og'

export const runtime = 'edge'

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url)
  const subject = searchParams.get('subject')
  const result = searchParams.get('result')
  const ratio = searchParams.get('ratio') || 'default'

  const sizes = {
    default: { width: 1200, height: 630 },
    story: { width: 1080, height: 1920 },
    square: { width: 1080, height: 1080 },
    kakao: { width: 800, height: 400 },
  }

  const size = sizes[ratio] || sizes.default

  return new ImageResponse(
    (
      <div style={{
        width: '100%',
        height: '100%',
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'center',
        justifyContent: 'center',
        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
      }}>
        {/* ê²°ê³¼ ì¹´ë“œ ë‚´ìš© */}
      </div>
    ),
    size
  )
}
```

### 5.2 3ì´ˆ í›… ì›ì¹™ ì ìš©

ëª¨ë“  ê³µìœ  ì¹´ë“œëŠ” 3ì´ˆ ì•ˆì— í•µì‹¬ ì •ë³´ ì „ë‹¬:

```
[ìƒë‹¨ 20%] í›…: ì´ëª¨ì§€ + ê²°ê³¼ ì´ë¦„
[ì¤‘ì•™ 50%] í•µì‹¬: í•œ ì¤„ ì„¤ëª… + ì ìˆ˜
[í•˜ë‹¨ 30%] CTA: "ë‚˜ë„ í…ŒìŠ¤íŠ¸í•˜ê¸°"
```

### 5.3 ì €ì¥/ê³µìœ  ìœ ë„ ì „ëµ

- **ì €ì¥ ìœ ë„**: "ì´ ê²°ê³¼ ì €ì¥í•´ë‘ì„¸ìš”!"
- **ê³µìœ  ìœ ë„**: "ì¹œêµ¬ì—ê²Œ ê³µìœ í•˜ê³  ë¹„êµí•´ë³´ì„¸ìš”"
- **íƒœê·¸ ìœ ë„**: "@ì¹œêµ¬ ì´ê±° ë„ˆì•¼"

---

## 6. ì„±ê³µ ì§€í‘œ

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ (2ì£¼ í›„) |
|------|------|--------------|
| ê³µìœ  ë²„íŠ¼ í´ë¦­ë¥  | - | 15% |
| ê³µìœ  â†’ ìœ ì… ì „í™˜ìœ¨ | - | 30% |
| ì¹´ì¹´ì˜¤ ê³µìœ  ë¹„ìœ¨ | - | 50% |
| UTM ì¶”ì  ê°€ëŠ¥ ìœ ì… | 0% | 80% |

---

## 7. ë¦¬ìŠ¤í¬ & ëŒ€ì‘

| ë¦¬ìŠ¤í¬ | ëŒ€ì‘ |
|--------|------|
| OG ì´ë¯¸ì§€ ë Œë”ë§ ëŠë¦¼ | Edge ìºì‹± í™œìš©, ì •ì  ìƒì„± ê³ ë ¤ |
| ì¹´ì¹´ì˜¤ ì•± ìŠ¹ì¸ ì§€ì—° | ê°œë°œìš© ì•±ìœ¼ë¡œ ë¨¼ì € í…ŒìŠ¤íŠ¸ |
| ì„¸ë¡œ ì´ë¯¸ì§€ ì˜ë¦¼ | í•µì‹¬ ì •ë³´ ì¤‘ì•™ 80%ì— ë°°ì¹˜ |
| UTM ëˆ„ë½ | ê¸°ë³¸ê°’ ì„¤ì •, ê³µìœ  ë²„íŠ¼ í†µì¼ |

---

## 8. ì°¸ê³  ìë£Œ

- [Vercel OG Image Generation](https://vercel.com/blog/introducing-vercel-og-image-generation-fast-dynamic-social-card-images)
- [Next.js ImageResponse](https://nextjs.org/docs/app/api-reference/functions/image-response)
- [ì¹´ì¹´ì˜¤ JavaScript SDK](https://developers.kakao.com/docs/latest/ko/sdk-download/js)
- [Later: Reels vs TikTok vs Shorts](https://later.com/resources/videos/reels-vs-tiktok-vs-shorts/)

---

## 9. ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì™„ë£Œ ê¸°ì¤€
- [ ] `/api/og/result` ì—”ë“œí¬ì¸íŠ¸ ë™ì‘
- [ ] 4ê°€ì§€ ë¹„ìœ¨ ì´ë¯¸ì§€ ìƒì„± ê°€ëŠ¥
- [ ] ì¹´ì¹´ì˜¤í†¡ ê³µìœ  ë™ì‘
- [ ] UTM íŒŒë¼ë¯¸í„° ìë™ ì¶”ê°€
- [ ] VS íˆ¬í‘œ ê²°ê³¼ ê³µìœ  ê°€ëŠ¥
- [ ] ê³µìœ  â†’ ìœ ì… ì¶”ì  ê°€ëŠ¥

### í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
- [ ] ê° í…ŒìŠ¤íŠ¸ ì¢…ë¥˜ë³„ OG ì´ë¯¸ì§€ ìƒì„±
- [ ] ëª¨ë°”ì¼/ë°ìŠ¤í¬í†± ê³µìœ  ë²„íŠ¼ ë™ì‘
- [ ] ì¹´ì¹´ì˜¤í†¡ ë¯¸ë¦¬ë³´ê¸° ì •ìƒ í‘œì‹œ
- [ ] ì¸ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í† ë¦¬ ê³µìœ  (ìˆ˜ë™)
- [ ] UTM íŒŒì‹± ë° ì €ì¥
