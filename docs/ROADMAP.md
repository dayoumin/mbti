# 개발 로드맵

> 케미 테스트 앱의 단계별 개발 계획
>
> ⚠️ **법적 준수**: 본 프로젝트는 MBTI®(등록상표)를 사용하지 않습니다.
> **Big Five (OCEAN)** 및 **IPIP 공개 도메인** 프레임워크를 기반으로 합니다.

---

## 전체 로드맵 개요

```
Phase 1: MVP (기반 구축)
    ↓
Phase 2: 케미 시스템
    ↓
Phase 3: 펫 모드 강화
    ↓
Phase 4: 고급 기능
    ↓
Phase 5: 재방문 유도 시스템      ← 사용자 리텐션
    ↓
★ Phase 5.5: 선점 효과 강화     ← 네트워크 효과 + 전환 비용 (NEW!)
    ↓
Phase 6: 커머스 연결 및 수익화   ← 제품 구매 연결
    ↓
Phase 7: 확장 및 글로벌화
```

> **핵심 전략**: AI 시대에 누구나 앱을 복제할 수 있지만,
> **네트워크 효과**와 **데이터 축적**은 복제할 수 없습니다.
> 상세 전략은 `/dashboard` > 기획 > 선점 효과 참조

---

## Phase 1: MVP (기반 구축)

### 목표
> Next.js로 마이그레이션 + 프로필 저장 기능

### 작업 목록

#### 1.1 프로젝트 셋업
- [ ] Next.js 14 프로젝트 생성 (App Router)
- [ ] TypeScript 설정
- [ ] Tailwind CSS 설정
- [ ] ESLint, Prettier 설정
- [ ] 폴더 구조 생성

#### 1.2 기존 코드 마이그레이션
- [ ] 타입 정의 (types/index.ts)
- [ ] 데이터 파일 변환 (data.js → data.ts)
- [ ] Icons 컴포넌트 마이그레이션
- [ ] TraitBar 컴포넌트 마이그레이션
- [ ] ModeTabs 컴포넌트 마이그레이션

#### 1.3 공통 컴포넌트 개발
- [ ] Button 컴포넌트
- [ ] ProgressBar 컴포넌트
- [ ] Card 컴포넌트
- [ ] Modal 컴포넌트

#### 1.4 테스트 플로우 구현
- [ ] 홈 페이지 (모드 선택)
- [ ] 테스트 페이지 (/test/[mode])
- [ ] 결과 페이지 (/test/[mode]/result)
- [ ] 점수 계산 로직 (lib/scoring.ts)

#### 1.5 프로필 저장 기능
- [ ] 프로필 타입 정의
- [ ] LocalStorage 유틸리티 (lib/storage.ts)
- [ ] 프로필 저장 모달
- [ ] 프로필 목록 페이지 (/profile)
- [ ] 프로필 상세 페이지 (/profile/[id])
- [ ] 프로필 삭제 기능

### 결과물
- 사람/고양이/강아지 성격 테스트
- 결과 저장 (이름, 관계 유형, 라벨, 점수 비율)
- 저장된 프로필 목록 보기

---

## Phase 2: 케미 시스템

### 목표
> 저장된 프로필 간 케미 분석 + 관계별 맞춤 조언

### 작업 목록

#### 2.1 케미 데이터 구축
- [ ] 케미 매트릭스 정의
- [ ] 관계 유형별 조언 데이터
  - [ ] 연애 조언 (data/advice/couple.ts)
  - [ ] 직장 조언 (data/advice/work.ts)
  - [ ] 가족 조언 (data/advice/family.ts)
  - [ ] 친구 조언 (data/advice/friend.ts)

#### 2.2 케미 UI 개발
- [ ] 케미 테스트 진입 페이지 (/chemi)
- [ ] 프로필 2개 선택 UI
- [ ] 관계 유형 선택 UI
- [ ] 케미 결과 페이지

#### 2.3 케미 로직 개발
- [ ] 케미 점수 계산 (lib/chemi.ts)
- [ ] 관계별 조언 매칭 로직
- [ ] 상성 분석 (강점/주의점)

### 관계 유형 세분화

| 대분류 | 세분류 | 조언 포인트 |
|--------|--------|-------------|
| 연애 | 썸 | 접근법, 신호 읽기 |
| 연애 | 연인 | 소통, 데이트 스타일 |
| 연애 | 장거리 | 연락 빈도, 신뢰 |
| 부부 | 신혼 | 생활 습관 조율 |
| 부부 | 육아기 | 역할 분담, 육아관 |
| 가족 | 부모-자녀 | 양육 스타일, 소통법 |
| 가족 | 형제 | 갈등 관리 |
| 직장 | 상사 | 보고 스타일, 기대치 |
| 직장 | 부하 | 피드백, 동기부여 |
| 직장 | 동료 | 협업, 업무 분담 |
| 친구 | 친한 친구 | 놀이 스타일 |
| 친구 | 그룹 | 역할, 갈등 |

### 결과물
- 내 프로필 + 상대 프로필 → 케미 점수 + 분석
- 관계 유형별 맞춤 조언
- 강점/주의점 안내

---

## Phase 3: 펫 모드 강화

### 목표
> 과학적 연구 기반 펫 테스트 + 주인-펫 케미

### 작업 목록

#### 3.1 질문 리뉴얼
- [ ] 고양이 질문 리뉴얼 (Feline Five 기반)
  - 호기심 질문 보강
  - 경계심 질문 추가
  - 보스력 질문 추가
  - 변덕력 질문 추가
  - 애교력 질문 보강
- [ ] 강아지 질문 리뉴얼 (C-BARQ 기반)
  - 에너지 질문 보강
  - 집사 사랑 질문 보강
  - 댕친력 질문 추가
  - 집중력 질문 추가
  - 용감력/끈기력 질문 추가

#### 3.2 펫-주인 케미
- [ ] 케미 데이터 구축 (human-pet.ts)
- [ ] 케미 분석 로직
- [ ] 결과 페이지 UI

#### 3.3 펫 케어 가이드 강화
- [ ] 성격별 훈련 팁
- [ ] 스트레스 관리법
- [ ] 놀이/활동 추천
- [ ] 환경 세팅 조언

### 결과물
- 과학 연구 기반 펫 성격 테스트
- 주인 + 펫 = 집사 케미 분석
- 성격별 맞춤 케어 가이드

---

## Phase 4: 고급 기능

### 목표
> 공유, 심화 테스트, 사용자 경험 개선

### 작업 목록

#### 4.1 공유 기능
- [ ] 결과 이미지 생성 (html2canvas 또는 서버 렌더링)
- [ ] 카카오톡 공유
- [ ] 인스타그램 스토리 공유
- [ ] 링크 복사

#### 4.2 심화 테스트 (선택)
- [ ] Big Five 기반 심층 테스트
- [ ] 상세 분석 리포트
- [ ] 하위 facet 분석

#### 4.3 UX 개선
- [ ] 테스트 진행 애니메이션
- [ ] 결과 공개 연출
- [ ] 다크 모드
- [ ] 반응형 최적화

#### 4.4 데이터 분석
- [ ] 테스트 완료율 추적
- [ ] 라벨 분포 통계
- [ ] A/B 테스트 질문 시스템

### 결과물
- SNS 공유 가능한 결과 이미지
- 심화 분석 옵션
- 개선된 사용자 경험

---

## Phase 4.5: 테스트 종류 확장

### 목표
> 매칭 테스트, 운세, 궁합 등 다양한 테스트 타입 추가

> 📋 **상세 계획**: [TEST_EXPANSION_PLAN.md](planning/TEST_EXPANSION_PLAN.md)

### 테스트 타입 체계

| 타입 | 설명 | 결과 형태 |
|------|------|----------|
| `personality` | 성격/특성 분석 | 라벨 + 점수 그래프 |
| `matching` | 추천/매칭 | 라벨 + 매칭 포인트 |
| `fortune` | 운세/점술 | 오늘의 운세 + 조언 |
| `compatibility` | 궁합/상성 | 두 요소 비교 점수 |

### 작업 목록

#### 4.5.1 매칭 테스트 확장 (P1)
- [ ] **반려동물 매칭** - 나에게 맞는 반려동물 추천
  - 차원: lifestyle, space, activity, time, allergy
  - 결과: 강아지/고양이/토끼/햄스터/물고기 등
- [ ] **커피 매칭** - 나에게 맞는 커피 유형
  - 차원: bitter, sweet, caffeine, temperature, mood
  - 결과: 아메리카노/라떼/에스프레소/콜드브루 등

#### 4.5.2 운세/궁합 테스트 (P2)
- [ ] **별자리 운세** - 오늘의 별자리 운세
  - 입력: 생년월일
  - 결과: 오늘의 운세 + 행운 아이템
- [ ] **혈액형 궁합** - 두 사람의 혈액형 궁합
  - 입력: A/B/O/AB × 2
  - 결과: 궁합 점수 + 강점/약점
- [ ] **별자리 궁합** - 두 사람의 별자리 궁합
  - 입력: 12궁 × 2
  - 결과: 궁합 점수 + 조언

#### 4.5.3 추가 매칭 테스트 (P2)
- [ ] **여행지 매칭** - 나에게 맞는 여행 스타일
- [ ] **취미 매칭** - 나에게 맞는 취미 추천

#### 4.5.4 UI 스케일링 (타입 4개 이상 시)
- [ ] ModeTabs → 상단 탭 전환 방식 리팩토링
- [ ] 테스트 20개 이상 시 홈 페이지 분리 검토

### UI 스케일링 전략

```
현재 (타입 2개):     단일 페이지 + 그룹핑
타입 4개 이상:       상단 탭 전환 방식
테스트 20개 이상:    홈 → 카테고리 → 테스트 선택
```

### 결과물
- 다양한 테스트 타입 지원
- 확장 가능한 아키텍처
- 사용자 선택 폭 확대

---

## Phase 5: 재방문 유도 시스템

### 목표
> 사용자가 자주 방문하고 지속적으로 활용하도록 유도

### 작업 목록

#### 5.1 주기적 컨텐츠
- [ ] **오늘의 케미 운세** - 매일 바뀌는 성격 조합별 운세
- [ ] **주간 케미 리포트** - 저장된 프로필 기반 주간 조언
- [ ] **시즌별 테마 테스트** - 발렌타인, 크리스마스 등 특별 버전
- [ ] **성격별 일일 미션** - "오늘은 새로운 사람에게 먼저 인사해보세요"

#### 5.2 소셜 & 바이럴 기능
- [ ] **친구 초대 시스템** - 초대 코드로 친구 케미 바로 분석
- [ ] **케미 랭킹** - "이번 주 최고의 케미 커플"
- [ ] **익명 케미 요청** - 상대방에게 테스트 요청 링크 보내기
- [ ] **케미 변화 추적** - 시간에 따른 케미 변화 그래프

#### 5.3 개인화 & 알림
- [ ] **케미 알림** - 새 프로필 등록시 기존 프로필과 케미 알림
- [ ] **기념일 알림** - "오늘 OOO님과 케미 측정한 지 1년!"
- [ ] **맞춤형 컨텐츠** - 성격 유형별 맞춤 기사/영상 추천
- [ ] **재테스트 권유** - "3개월이 지났어요. 성격이 바뀌었을지도?"

#### 5.4 게이미피케이션
- [ ] **배지 시스템** - 테스트 완료, 케미 분석 횟수별 배지
- [ ] **레벨 시스템** - 활동에 따른 레벨업
- [ ] **성격 컬렉션** - 만난 성격 유형 도감
- [ ] **업적 시스템** - "모든 성격 유형과 케미 분석 완료!"

### 결과물
- 매일 방문할 이유가 있는 서비스
- 바이럴 성장 구조
- 높은 사용자 리텐션

---

## Phase 5.5: 선점 효과 강화 (First-Mover Advantage) ★

### 목표
> AI 시대에 누구나 앱을 복제할 수 있지만, 네트워크 효과와 데이터 축적은 복제할 수 없다

### 핵심 원칙

| 원칙 | 설명 | 실행 |
|------|------|------|
| **데이터 해자** | 축적된 데이터는 복제 불가 | "N만명 중 상위 M%" 통계 |
| **네트워크 효과** | 친구가 있어야 재밌는 서비스 | 친구 초대/비교/랭킹 |
| **전환 비용** | 떠나면 잃는 것 | 히스토리, 배지, 등급 |
| **습관화** | 매일 들어올 이유 | 스트릭, 일일 콘텐츠 |

### 작업 목록

#### 5.5.1 데이터 영속성 (완료)
- [x] **Turso DB 연동** - 서버 데이터 저장
- [x] **테스트 결과 영구 저장** - ResultService + Turso
- [x] **배지/레벨 동기화** - GamificationService

#### 5.5.2 네트워크 효과 강화 (진행중)
- [x] **친구 초대** - 초대 코드 생성 (FriendService)
- [x] **결과 비교** - 친구와 케미 비교
- [ ] **친구 랭킹** - 친구들 중 1위
- [ ] **그룹 테스트** - 모임/가족 단위

#### 5.5.3 전환 비용 극대화 (진행중)
- [x] **테스트 히스토리** - 완료한 테스트 기록
- [x] **배지 컬렉션** - 희귀 배지 보유
- [x] **전문가 등급** - 고양이 전문가 Lv.5
- [x] **시즌 랭킹** - 투표 순위 기록

#### 5.5.4 데이터 해자 (예정)
- [ ] **누적 통계 대시보드** - 전체 사용자 통계
- [ ] **상대 위치 표시** - "상위 15%"
- [ ] **지역/연령별 분석** - 인구통계 분석
- [ ] **시간별 트렌드** - 월별 인기 결과 변화

### 참고 사례

| 서비스 | 선점 요인 | 배울 점 |
|--------|----------|---------|
| 카카오톡 | 친구 목록 + 대화 기록 | 네트워크 효과 |
| Duolingo | 스트릭 + 리그 | 손실 회피 심리 |
| TikTok | 알고리즘 학습 + 팔로워 | 개인화 데이터 |
| Strava | 운동 기록 + 세그먼트 순위 | 데이터 축적 |

### 핵심 지표 (KPIs)

| 지표 | 목표 | 측정 |
|------|------|------|
| D1 리텐션 | 40%+ | 첫날 재방문 |
| D7 리텐션 | 20%+ | 1주일 후 재방문 |
| D30 리텐션 | 10%+ | 1개월 후 재방문 |
| DAU/MAU | 20%+ | 월간 활성 비율 |
| K-factor | 1.0+ | 바이럴 계수 |

### 결과물
- 경쟁자가 추월하기 어려운 데이터 축적
- 친구 네트워크로 인한 높은 전환 비용
- 매일 방문하는 습관화된 사용자층

---

## Phase 6: 커머스 연결 및 수익화

### 목표
> 성격 분석 결과를 제품 구매로 자연스럽게 연결

### 작업 목록

#### 6.1 제품 추천 시스템
- [ ] **성격별 제품 추천** - 테스트 결과에 맞는 제품 추천
  - 인싸형 → 파티용품, 보드게임
  - 모험형 → 여행용품, 아웃도어
  - 계획형 → 플래너, 수첩, 정리용품
  - 멘탈강자 → 명상용품, 아로마
- [ ] **케미 커플 선물 추천** - 두 사람에게 어울리는 커플템
- [ ] **펫 성격별 용품 추천** - 활발한 강아지 → 운동 장난감

#### 6.2 제휴 및 파트너십
- [ ] **쿠팡 파트너스 연동** - 제품 링크 수수료
- [ ] **네이버 스마트스토어 연동**
- [ ] **브랜드 제휴** - 성격별 브랜드 콜라보
- [ ] **펫샵 제휴** - 펫 성격별 맞춤 용품 추천

#### 6.3 프리미엄 서비스
- [ ] **상세 분석 리포트 (PDF)** - 5,000원
  - 20페이지 분량 심층 분석
  - 하위 facet 상세 해설
  - 맞춤형 행동 가이드
- [ ] **케미 상담 서비스** - 전문가 연결 (중개 수수료)
- [ ] **기업용 팀 케미 분석** - B2B 서비스

#### 6.4 광고 및 스폰서십
- [ ] **결과 페이지 네이티브 광고** - 성격에 맞는 자연스러운 광고
- [ ] **브랜드 스폰서 테스트** - "OO브랜드와 함께하는 케미 테스트"
- [ ] **타겟팅 광고** - 성격 데이터 기반 정밀 타겟팅

#### 6.5 굿즈 및 자체 상품
- [ ] **성격 유형 굿즈** - 스티커, 키링, 머그컵
- [ ] **케미 증명서** - 예쁜 디자인의 실물 케미 증명서
- [ ] **펫 성격 카드** - 반려동물 성격 프로필 카드

### 수익 모델 정리

| 수익원 | 예상 단가 | 설명 |
|--------|-----------|------|
| 제휴 수수료 | 3-8% | 쿠팡/네이버 파트너스 |
| PDF 리포트 | 5,000원 | 심층 분석 보고서 |
| 기업 서비스 | 50만원~ | 팀 케미 분석 |
| 광고 수익 | CPM 기반 | 네이티브/배너 광고 |
| 굿즈 판매 | 5,000-20,000원 | 자체 제작 굿즈 |

### 결과물
- 테스트 → 제품 구매의 자연스러운 퍼널
- 다양한 수익원 확보
- 지속 가능한 비즈니스 모델

---

## Phase 7: 확장 및 글로벌화

### 목표
> 다국어, 계정 시스템, 플랫폼 확장

### 작업 목록

#### 7.1 다국어 지원
- [ ] i18n 설정 (next-intl)
- [ ] 영어 번역
- [ ] 일본어 번역

#### 7.2 계정 시스템
- [ ] 소셜 로그인 (카카오, 구글)
- [ ] 클라우드 프로필 동기화
- [ ] 기기 간 데이터 공유

#### 7.3 플랫폼 확장
- [ ] 모바일 앱 (React Native / PWA)
- [ ] 카카오톡 채널 연동
- [ ] 인스타그램 필터 연동

### 결과물
- 글로벌 서비스
- 계정 기반 데이터 관리
- 멀티 플랫폼 지원

---

## 기술 스택 상세

### Phase 1 필수 기술

```
Framework: Next.js 14 (App Router)
Language: TypeScript
Styling: Tailwind CSS
State: React useState/useReducer (단순)
Storage: LocalStorage
```

### Phase 2+ 추가 기술

```
State (복잡해지면): Zustand
Animation: Framer Motion
Image Gen: html2canvas / Satori
Share: Kakao SDK, Web Share API
```

### Phase 5-6 추가 기술

```
Push Notification: Web Push API / Firebase Cloud Messaging
Scheduler: node-cron (운세/리포트 자동 생성)
Analytics: Vercel Analytics / GA4
Affiliate: 쿠팡 파트너스 API / 네이버 커머스 API
Payment: 토스페이먼츠 / 카카오페이
```

### Phase 7 추가 기술

```
Auth: NextAuth.js + Kakao/Google (검토 중)
Database: Turso (LibSQL) - 현재 사용 중
i18n: next-intl
```

---

## 우선순위 정리

### Must Have (필수) - 핵심 가치
1. ✅ 기본 테스트 (현재 완료)
2. 🔲 프로필 저장
3. 🔲 케미 테스트
4. 🔲 관계별 조언
5. 🔲 공유 기능

### Should Have (권장) - 재방문 유도
6. 🔲 오늘의 케미 운세
7. 🔲 펫-주인 케미
8. 🔲 친구 초대 시스템
9. 🔲 배지/레벨 시스템
10. 🔲 재테스트 알림

### Growth (성장) - 수익화
11. 🔲 성격별 제품 추천
12. 🔲 제휴 파트너십 (쿠팡/네이버)
13. 🔲 PDF 리포트 판매
14. 🔲 결과 페이지 광고

### Nice to Have (선택) - 확장
15. 🔲 심화 테스트
16. 🔲 기업용 서비스
17. 🔲 다국어
18. 🔲 계정 시스템

---

## 체크포인트

### Phase 1 완료 기준
- [ ] Next.js 앱 정상 동작
- [ ] 3가지 모드 테스트 가능
- [ ] 프로필 저장/조회/삭제 가능
- [ ] 저장된 프로필 5개 이상 테스트

### Phase 2 완료 기준
- [ ] 2개 프로필 선택하여 케미 확인 가능
- [ ] 5가지 이상 관계 유형 지원
- [ ] 관계별 차별화된 조언 제공

### Phase 3 완료 기준
- [ ] 펫 질문 24문항 이상
- [ ] 주인-펫 케미 기능 동작
- [ ] 성격별 케어 가이드 제공

### Phase 4 완료 기준
- [ ] SNS 공유 기능 동작 (카카오톡, 링크 복사)
- [ ] 결과 이미지 생성 가능
- [ ] 테스트 완료율 80% 이상

### Phase 5 완료 기준
- [ ] 오늘의 케미 운세 매일 갱신
- [ ] 친구 초대 링크 생성 및 케미 분석 연결
- [ ] 배지 3종 이상 획득 가능
- [ ] 재방문율 20% 이상

### Phase 6 완료 기준
- [ ] 성격별 제품 추천 표시
- [ ] 제휴 링크 클릭 추적 가능
- [ ] 첫 수익 발생

---

## 기술 부채 / 리팩토링

> 📋 **상세 추적**: [docs/reviews/COMPLEXITY_TRACKING.md](reviews/COMPLEXITY_TRACKING.md)

### ✅ 완료

| 작업 | 완료일 | 설명 |
|------|--------|------|
| 상수 중앙화 | 2024-12-22 | `src/config/` (scoring, seasons) |
| localStorage 키 통합 | 2024-12-22 | `src/lib/storage.ts` (20개 키) |

### 🟡 우선순위 중간 (여유 있을 때)

| 작업 | 생성할 파일 | 설명 |
|------|------------|------|
| API 에러 핸들링 표준화 | `src/lib/api-handler.ts` | 30개+ 라우트 try-catch 통일 |
| ID 생성 패턴 통합 | `src/utils/id.ts` | 3곳 다른 방식 → 1개로 통일 |

### 🟢 우선순위 낮음

| 작업 | 설명 |
|------|------|
| 타입 정의 통합 | 8개 파일 분산 → `src/types/` 통합 |
| 복잡한 서비스 리뷰 | GamificationService, RankingService 상세 검토 |

---

## 업데이트 이력

| 날짜 | 변경 내용 |
|------|-----------|
| 2024-12-22 | 기술 부채/리팩토링 섹션 추가 |
| 2025-01 | 초기 로드맵 작성 |
| 2025-01 | 법적 준수를 위한 용어 변경 (케미 테스트로 리브랜딩) |
| 2025-12-11 | Phase 5 재방문 유도 시스템 추가 |
| 2025-12-11 | Phase 6 커머스 연결 및 수익화 추가 |
| 2025-12-11 | Phase 7 확장 및 글로벌화로 재편성 |
| 2025-12-11 | Phase 4-6 체크포인트 추가 |
| 2025-12-11 | Phase 4.5 테스트 종류 확장 추가 (매칭/운세/궁합) |
