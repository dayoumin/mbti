# 테스트 생성 시스템 - AI 검토용 요약

> 이 문서는 다른 AI(ChatGPT, Gemini 등)의 검토를 받기 위한 요약입니다.
> 작성일: 2025-12-22

---

## 1. 프로젝트 배경

### 1.1 목적
- 100개 이상의 성격/취향 테스트를 일관된 품질로 만들기 위한 표준화 시스템
- 딥리서치(ChatGPT, Perplexity) → 리서치 정리 → AI 코드 생성의 파이프라인

### 1.2 테스트 유형
| 유형 | 설명 | 예시 |
|------|------|------|
| **성격 테스트** | 사람/동물의 성격 유형 분석 | 사람 성격(Big Five), 고양이 성격(Feline Five) |
| **매칭 테스트** | 사용자 취향에 맞는 것 추천 | 커피, 와인, 위스키, 식물 |
| **세부 테스트** | 메인 테스트 결과에서 세부 유형 추천 | 술→위스키, 반려동물→고양이품종 |

### 1.3 현재 상태
- 기존 테스트: 23개 (성격 6, 매칭 11, 세부 6)
- 공통 문제: 학술 근거 부족, 중간점수(3) 옵션 없음

---

## 2. 문서 구조

```
docs/test-creation/
├── RESEARCH_REQUEST.md    # 딥리서치 요청 템플릿 (4종)
├── RESEARCH_RESULT.md     # 리서치 결과 저장 포맷
├── GENERATION_GUIDE.md    # AI 테스트 생성 규칙
├── EXISTING_TESTS_AUDIT.md # 기존 23개 테스트 품질 점검
└── REVIEW_SUMMARY.md      # 이 파일 (검토용 요약)

research/
└── {subject}.md           # 주제별 리서치 결과 저장
```

---

## 3. 워크플로우

```
[1] 딥리서치 요청 (RESEARCH_REQUEST.md)
    ├─ 템플릿 A: 성격 테스트
    ├─ 템플릿 B: 매칭 테스트
    ├─ 템플릿 C: 세부 테스트
    └─ 템플릿 D: 확장 요청 (특정 소스 포함)
              ↓
[2] 결과 정리 (RESEARCH_RESULT.md 형식)
    ├─ 차원: 키, 이름, 이모지, 설명, LOW/HIGH, 근거
    ├─ 결과: 이름, 조건, mood, color, interpretation, guide
    └─ 질문: 2~4개 선택지 (점수 1~5), 40%+ 질문에 중간점수(3) 포함
              ↓
[3] research/{subject}.md 저장
              ↓
[4] AI 테스트 생성 (GENERATION_GUIDE.md 규칙)
    ├─ 리서치→코드 필드 매핑 참고
    ├─ src/data/subjects/{subject}.ts 생성
    └─ 7개 파일 수정 (types, config, index 등)
              ↓
[5] 자동 검증
    ├─ node scripts/validate-test-data.mjs {subject}
    └─ npm run build
              ↓
[6] 문제 있으면 자동 수정 후 재검증
```

---

## 4. 핵심 데이터 구조

### 4.1 차원 (Dimension)
```typescript
dimensions: {
    smoky: {
        name: "스모키",      // 한글 2-4자
        emoji: "🔥",        // 1개 이모지
        desc: "피티/스모키 정도"  // 10-20자
    },
    body: {
        name: "바디감",
        emoji: "💪",
        desc: "맛의 무게감/풍성함"
    }
    // ... 총 5-6개 차원
}
```

### 4.2 질문 (Question)
```typescript
{
    q: "스모키한 향을 좋아하나요?",
    dimension: "smoky",
    a: [
        { text: "네, 강한 피트향이 좋아요", score: 5 },  // HIGH
        { text: "살짝 스모키한 정도가 좋아요", score: 3 }, // MEDIUM (필수!)
        { text: "깔끔한 게 좋아요", score: 1 }           // LOW
    ]
}
```

### 4.3 결과 (ResultLabel)
```typescript
{
    name: "아일라 싱글몰트",
    emoji: "🥃",                                   // 1개 이모지 (단일 유니코드)
    desc: "강렬한 피트향의 스코틀랜드 위스키",
    condition: { smoky: "high", body: "high" },  // 2-3개 조건
    mood: "cool",                                 // 허용값: happy, cool, excited, calm
    color: "bg-slate-700",                        // Tailwind 색상
    interpretation: "당신은 강렬하고 개성 있는 맛을 추구하는...",
    guide: "라프로익, 아드벡, 라가불린을 추천드려요...",
    matchPoints: ["강한 개성을 좋아하는 분", "위스키 경험이 많은 분"]
}
```

---

## 5. 품질 기준

### 5.1 필수 기준 (오류 = 수정 필수)
- 차원: 5-6개
- 질문: 12-16개, 차원당 2-3개
- 결과: 8-16개, 각각 2-3개 조건
- `condition: {}` 사용 금지

### 5.2 권장 기준 (경고 = 개선 권장)
- 중간점수(3) 포함 질문: 40% 이상
- 모든 결과 도달 가능: 100%
  - **정의**: 각 결과의 condition 조합이 실제 응답으로 만들어질 수 있어야 함
  - **검증**: `validate-test-data.mjs`가 "unreachable result" 경고 출력 시 실패
  - **예시**: `{dim1: "high", dim2: "high"}`이면 dim1, dim2 모두 HIGH 레벨 도달 경로 필요
- 차원별 문항 수 균형: ±1개 이내
- 중복 조건 없음

### 5.3 품질 점수 (100점)
| 항목 | 배점 |
|------|------|
| 필수 기준 통과 | 50점 |
| 차원 균형 | 15점 |
| 점수 다양성 | 15점 |
| 도달 가능성 | 15점 |
| 리서치 기반 | 5점 |

**목표: 85점 이상**

---

## 6. 검토 요청 사항

다음 항목들에 대해 피드백을 부탁드립니다:

### 6.1 구조적 완성도
- [ ] 워크플로우가 명확하고 따라하기 쉬운가?
- [ ] 문서 간 연결이 논리적인가?
- [ ] 누락된 단계나 정보가 있는가?

### 6.2 필드 설계
- [ ] 차원(Dimension) 필드가 충분한가?
- [ ] 결과(Result) 필드가 테스트 표현에 적합한가?
- [ ] mood/color 옵션이 적절한가?

### 6.3 품질 기준
- [ ] 수치 기준(5-6개 차원, 8-16개 결과 등)이 적절한가?
- [ ] 40% 중간점수 기준이 합리적인가?
- [ ] 품질 점수 배점이 균형 있는가?

### 6.4 리서치 템플릿
- [ ] 딥리서치 요청 템플릿이 학술적 근거를 얻기에 충분한가?
- [ ] 출력 형식 요청이 명확한가?
- [ ] 성격 테스트 vs 매칭 테스트 구분이 적절한가?

### 6.5 개선 제안
- [ ] 추가해야 할 필드나 규칙이 있는가?
- [ ] 삭제하거나 단순화할 부분이 있는가?
- [ ] 더 나은 접근 방식이 있는가?

---

## 7. 현재 문제점 및 개선 예정

### 7.1 기존 테스트 문제
| 문제 | 영향 | 해결책 |
|------|------|--------|
| 중간점수(3) 없음 | MEDIUM 레벨 도달 어려움 | 40%+ 질문에 3점 옵션 추가 |
| 학술 근거 부족 | 차원 설계 신뢰도 낮음 | 딥리서치 후 재설계 |
| 도달 불가 결과 | 일부 결과 유형 사용 불가 | 조건 수정 |

### 7.2 우선 개선 대상
1. dog (경고 4개) - C-BARQ 기반 재설계
2. human (경고 3개) - Big Five 기반 재설계
3. cat (경고 3개) - Feline Five 기반 재설계

---

## 8. 문서 상세 링크

검토 시 참고할 전체 문서:

| 문서 | 내용 | 분량 |
|------|------|------|
| [RESEARCH_REQUEST.md](./RESEARCH_REQUEST.md) | 딥리서치 요청 템플릿 4종 + 예시 2개 | ~350줄 |
| [RESEARCH_RESULT.md](./RESEARCH_RESULT.md) | 리서치 결과 저장 포맷 + 필드 설명 | ~250줄 |
| [GENERATION_GUIDE.md](./GENERATION_GUIDE.md) | AI 생성 규칙 + 매핑 테이블 + 검증 방법 | ~400줄 |
| [EXISTING_TESTS_AUDIT.md](./EXISTING_TESTS_AUDIT.md) | 23개 테스트 품질 점검 결과 | ~210줄 |

---

## 9. 피드백 방법

검토 후 다음 형식으로 피드백 주시면 감사하겠습니다:

```
## 전체 평가
- 완성도: {상/중/하}
- 실용성: {상/중/하}
- 확장성: {상/중/하}

## 잘된 점
1. ...
2. ...

## 개선 필요
1. [문서명] 문제: ... / 제안: ...
2. ...

## 추가 제안
1. ...
```
