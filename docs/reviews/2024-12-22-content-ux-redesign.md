# 퀴즈/투표 UX 전체 재설계 계획

> 작성일: 2024-12-22
> 목적: 콘텐츠 참여 UX 개선으로 사용자 참여도와 재방문율 향상
> **업데이트: 2024-12-22 - "통계 비교" 중심 접근으로 방향 수정**

---

## 0. 핵심 인사이트 (신규 추가)

### 이 앱의 사용자 욕구
**학습이 아닌 "나와 다른 사람 비교"가 핵심 동기**

- "나는 어떤 타입이지?" → 테스트 결과
- "다른 사람들은 뭘 골랐지?" → **통계/비교** ← 핵심!
- "나랑 같은 생각하는 사람 얼마나 되지?" → 투표 결과

### 설계 방향 전환
| 기존 접근 | 새로운 접근 |
|----------|------------|
| "문제 풀기" 중심 | **"통계 비교" 중심** |
| 정답 맞히면 끝 | 정답 후 **다른 사람 분포** 강조 |
| 무한 스크롤 목록 | **핫 토픽/인기순** 먼저 |
| 참여 여부만 표시 | **몇 명 참여 + 결과 분포** 표시 |

---

## 1. 현재 상태 진단

### 1.1 주요 문제점

| 문제 | 현황 | 영향 |
|------|------|------|
| **정보 과부하** | 화면 진입 시 이미 푼 문제들 줄줄이 표시 | "뭘 해야 하지?" 혼란 |
| **통계 부재** | 참여 후 정답/오답만 표시 | 비교 재미 없음 |
| **진입점 혼란** | "퀴즈/투표" 클릭 → 테스트 탭이 기본 | 사용자 기대 불일치 |
| **발견성 부족** | 메인 대시보드에 퀴즈/투표 직접 노출 없음 | 참여율 저하 |
| **다음 행동 유도 없음** | 테스트 결과 후 그냥 끝 | 이탈률 높음 |
| **게이미피케이션 숨김** | 배지/포인트 획득해도 잘 안 보임 | 동기부여 약함 |
| **콘텐츠 불균형** | cat/dog만 풍부, 나머지 빈약 | 특정 사용자만 혜택 |

### 1.2 데이터 현황

| 콘텐츠 유형 | 수량 | 카테고리 분포 |
|------------|------|--------------|
| 지식 퀴즈 | 24개 | cat 12, dog 12 |
| 시나리오 퀴즈 | 2개 | cat 1, dog 1 |
| VS 투표 | 33개 | 분산 |
| 커뮤니티 | 샘플만 | - |

---

## 2. 재설계 목표

### 2.1 핵심 지표

| 지표 | 현재 (추정) | 목표 |
|------|------------|------|
| 퀴즈/투표 참여율 | 10% | 40% |
| 테스트 후 퀴즈 전환율 | 5% | 25% |
| 일일 재방문율 | 15% | 35% |
| 평균 세션당 콘텐츠 소비 | 1.5개 | 4개 |

### 2.2 UX 원칙

1. **즉각적 보상** - 모든 행동에 피드백
2. **자연스러운 흐름** - 테스트 → 퀴즈 → 커뮤니티 연결
3. **개인화** - 참여 이력 기반 추천
4. **진행감** - 수집/완료의 즐거움

---

## 3. 정보 구조 재설계

### 3.1 현재 vs 제안

```
[현재]                          [제안]
┌─────────────────┐            ┌─────────────────┐
│ 홈              │            │ 홈              │
│ 퀴즈/투표 ──────┼──┐         │ 테스트 탐색     │
│ 랭킹            │  │         │ 퀴즈/투표       │ ← 독립 섹션
│ 커뮤니티        │  │         │ 랭킹            │
│                 │  │         │ 커뮤니티        │
└─────────────────┘  │         └─────────────────┘
                     │
    ContentExplore   │
    ┌────────────────┴───────┐
    │ [테스트] 퀴즈 투표 커뮤니티 │ ← 테스트가 기본 탭 (혼란)
    └────────────────────────┘
```

### 3.2 새로운 메뉴 구조

```
사이드바
├── 홈 (대시보드)
│   ├── 오늘의 추천 (테스트 + 퀴즈 + 투표 혼합)
│   ├── 내 활동 요약
│   └── 인기 콘텐츠
│
├── 테스트 탐색
│   ├── 전체 테스트 목록
│   ├── 카테고리 필터
│   └── NEW/HOT 표시
│
├── 퀴즈/투표 ← 분리!
│   ├── [퀴즈] [투표] 탭
│   ├── 오늘의 퀴즈 (하이라이트)
│   ├── 카테고리별 탐색
│   └── 내 참여 기록
│
├── 랭킹
│   └── (기존 유지)
│
└── 커뮤니티
    ├── 팁/가이드
    ├── Q&A
    └── 토론
```

---

## 4. 핵심 개선 설계

### 4.1 홈 대시보드 개선

**현재**: 테스트 카드만 나열
**개선**: 혼합 피드 + 참여 유도

```
┌─────────────────────────────────────────────────────┐
│  오늘의 추천                                         │
├─────────────────────────────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  ┌─────────┐             │
│  │ 🧠 퀴즈  │  │ 🗳️ 투표  │  │ 🎯 테스트 │             │
│  │ 고양이   │  │ 강아지   │  │ 커피     │             │
│  │ 지식왕   │  │ vs 투표  │  │ 매칭     │             │
│  └─────────┘  └─────────┘  └─────────┘             │
│                                                     │
│  📊 내 활동                          [더보기 →]     │
│  ┌─────────────────────────────────────────────┐   │
│  │ 🏅 배지 12개  │ 🧠 퀴즈 8/24  │ 🗳️ 투표 15/33 │   │
│  │ ████████░░   │ ████░░░░░░   │ █████████░   │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│  🔥 지금 인기                                       │
│  ┌─────────────────────────────────────────────┐   │
│  │ 1. 고양이 성격 테스트 (↑23%)                  │   │
│  │ 2. 강아지 vs 고양이 투표 (🆕 댓글 45개)        │   │
│  │ 3. 반려식물 퀴즈 (정답률 32%)                 │   │
│  └─────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

### 4.2 퀴즈/투표 전용 페이지

**목적**: 집중적인 콘텐츠 소비 경험

```
┌─────────────────────────────────────────────────────┐
│  퀴즈/투표                                          │
│  ┌──────────────┐ ┌──────────────┐                 │
│  │ 🧠 퀴즈 (24) │ │ 🗳️ 투표 (33) │                 │
│  └──────────────┘ └──────────────┘                 │
├─────────────────────────────────────────────────────┤
│                                                     │
│  ⭐ 오늘의 퀴즈                     [전체보기 →]    │
│  ┌─────────────────────────────────────────────┐   │
│  │  🐱 고양이가 그루밍을 하는 주된 이유는?       │   │
│  │                                             │   │
│  │  ○ 체온 조절     ○ 스트레스 해소            │   │
│  │  ○ 냄새 제거     ○ 위 모두                  │   │
│  │                                             │   │
│  │  [정답 확인하기]                            │   │
│  └─────────────────────────────────────────────┘   │
│                                                     │
│  📂 카테고리별                                      │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐ ┌────┐              │
│  │🐱  │ │🐶  │ │🐰  │ │🌱  │ │☕  │              │
│  │ 12 │ │ 12 │ │ 0  │ │ 0  │ │ 0  │              │
│  └────┘ └────┘ └────┘ └────┘ └────┘              │
│                                                     │
│  🏆 내 통계                                         │
│  ┌─────────────────────────────────────────────┐   │
│  │ 정답률 78%  │  연속 참여 5일  │  랭킹 상위 15% │   │
│  └─────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

### 4.3 테스트 결과 후 다음 행동

**현재**: 결과만 보여주고 끝
**개선**: 관련 콘텐츠 자동 추천

```
┌─────────────────────────────────────────────────────┐
│  🎉 당신의 고양이 성격: 철학 냥이                    │
│  ... (기존 결과 카드) ...                           │
├─────────────────────────────────────────────────────┤
│                                                     │
│  🎯 다음에 해볼까요?                                │
│                                                     │
│  ┌──────────────────┐  ┌──────────────────┐        │
│  │ 🧠 고양이 지식 퀴즈 │  │ 🗳️ 고양이 투표    │        │
│  │ "철학 냥이가 좋아   │  │ "츄르 vs 간식     │        │
│  │  하는 장소는?"     │  │  어떤 게 더 좋아?" │        │
│  │                    │  │                    │        │
│  │ [퀴즈 풀기]        │  │ [투표하기]         │        │
│  └──────────────────┘  └──────────────────┘        │
│                                                     │
│  ┌──────────────────┐  ┌──────────────────┐        │
│  │ 🔗 친구와 비교     │  │ 📊 랭킹 보기       │        │
│  │ 내 결과 공유하고   │  │ 같은 결과 사람들   │        │
│  │ 친구 결과 보기     │  │ 순위 확인          │        │
│  └──────────────────┘  └──────────────────┘        │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 4.4 게이미피케이션 강화

**획득 순간 강조**:
```
┌─────────────────────────────────────────┐
│  🎊 새 배지 획득!                        │
│                                         │
│       🏆                                │
│    고양이 박사                           │
│  고양이 퀴즈 10개 정답                    │
│                                         │
│  +50 포인트 획득                         │
│                                         │
│  [배지 컬렉션 보기]  [계속하기]           │
└─────────────────────────────────────────┘
```

**프로필 통계 강화**:
```
내 프로필
├── 배지 컬렉션 (12/93)
│   ├── 고양이: 🥉🥈🥇⬜⬜ (3/5)
│   ├── 강아지: 🥉🥈⬜⬜⬜ (2/5)
│   └── ...
├── 퀴즈 통계
│   ├── 총 정답: 18개
│   ├── 정답률: 78%
│   └── 연속 정답: 5개
├── 투표 통계
│   ├── 총 참여: 15개
│   ├── 다수파: 60%
│   └── 소수파: 40% (🏅 소수의견 배지 진행 중)
└── 스트릭
    └── 현재 7일 연속 (🔥)
```

---

## 5. 콘텐츠 확충 계획

### 5.1 즉시 추가 필요 (Phase 1)

| 카테고리 | 현재 | 추가 목표 | 우선순위 |
|---------|------|----------|---------|
| rabbit | 0 | 8 (퀴즈 4 + 투표 4) | 🔴 높음 |
| hamster | 0 | 8 | 🔴 높음 |
| plant | 0 | 8 | 🔴 높음 |
| coffee | 0 | 8 | 🟡 중간 |
| idealType | 0 | 8 | 🟡 중간 |

### 5.2 콘텐츠 제작 가이드

**지식 퀴즈 템플릿**:
```typescript
{
  id: "{category}-knowledge-{n}",
  category: "{category}",
  question: "구체적인 지식 질문?",
  options: [
    { id: "a", text: "선택지 A", isCorrect: false },
    { id: "b", text: "선택지 B", isCorrect: true },
    { id: "c", text: "선택지 C", isCorrect: false },
    { id: "d", text: "선택지 D", isCorrect: false }
  ],
  explanation: "정답 설명과 추가 정보",
  difficulty: 2,  // 1-3
  source: "출처 (선택)"
}
```

**VS 투표 템플릿**:
```typescript
{
  id: "{category}-vs-{n}",
  category: "{category}",
  question: "A vs B 어떤 게 더 좋아?",
  optionA: { id: "a", text: "선택지 A", emoji: "🅰️" },
  optionB: { id: "b", text: "선택지 B", emoji: "🅱️" },
  tags: ["재미", "논쟁"]
}
```

---

## 6. 구현 로드맵

### Phase 1: 기본 구조 개선 (이번 작업)

**목표**: 메뉴 분리 + 기본 UX 개선

| 작업 | 파일 | 예상 |
|------|------|------|
| 1. ContentExplore 기본 탭 변경 | ContentExplore.tsx | 10분 |
| 2. 사이드바 메뉴 재구성 | Sidebar.tsx | 30분 |
| 3. 대시보드에 오늘의 퀴즈/투표 추가 | Dashboard.tsx | 1시간 |
| 4. 테스트 결과 후 다음 행동 UI | page.tsx | 1시간 |
| 5. 기본 콘텐츠 추가 (rabbit, plant) | data/content/ | 1시간 |

### Phase 2: 게이미피케이션 강화

| 작업 | 설명 |
|------|------|
| 배지 획득 모달 개선 | 획득 순간 강조, 애니메이션 |
| 프로필 통계 확장 | 퀴즈/투표 상세 통계 |
| 스트릭 시각화 | 연속 참여 캘린더 |

### Phase 3: 커뮤니티 활성화

| 작업 | 설명 |
|------|------|
| 팁/가이드 콘텐츠 제작 | 테스트 결과별 조언 50개 |
| Q&A 기본 구현 | 질문/답변 CRUD |
| 댓글 알림 | 내 댓글에 답글 시 알림 |

---

## 7. 성공 기준

### 7.1 정량 지표

- [ ] 퀴즈/투표 일일 참여율 30% 이상
- [ ] 테스트 완료 후 퀴즈 전환율 20% 이상
- [ ] 평균 세션당 콘텐츠 3개 이상

### 7.2 정성 지표

- [ ] "다음에 뭐 할지" 명확함
- [ ] 게이미피케이션 요소가 눈에 보임
- [ ] 카테고리별 콘텐츠 균형

---

## 8. 리스크 및 대응

| 리스크 | 대응 |
|--------|------|
| 콘텐츠 품질 저하 | 템플릿 기반 제작, 검수 프로세스 |
| 복잡도 증가 | 단계별 릴리즈, 롤백 계획 |
| 성능 저하 | 콘텐츠 lazy loading, 캐싱 |

---

## 다음 단계

1. **즉시**: Phase 1 구현 시작
2. **검토**: 1주 후 참여율 측정
3. **반복**: Phase 2, 3 순차 진행

---

## 구현 완료 이력

### 2024-12-22 Phase 1 완료
- "안 푼 것만 보기" 토글 추가
- 퀴즈 통계 표시 (정답 후 다른 사람들의 선택 분포)
- 투표 실제 통계 연동 (/api/poll API)

### 2024-12-22 Phase 2 완료
**스트릭(연속 참여) 시스템**
- ContentParticipationService에 스트릭 데이터 추가
  - currentStreak: 현재 연속 참여 일수
  - longestStreak: 최장 연속 참여 기록
  - lastParticipationDate: 마지막 참여 날짜
  - streakHistory: 최근 30일 참여 기록
- StreakBanner 컴포넌트 추가
  - 미참여 시: "오늘 첫 참여를 시작하세요!" 유도
  - 참여 중: "N일 연속 참여!" + 오늘 참여 완료 표시
  - 스트릭 끊김 감지: 어제 이전 마지막 참여 시 0으로 표시

**핫 토픽 섹션**
- HotTopicsSection 컴포넌트 추가
- 참여하지 않은 콘텐츠 중 인기순 3개 표시
- 인기도 계산: ID 기반 결정론적 해시
- 퀴즈/투표 혼합 표시

**카테고리별 진행률**
- CategoryProgress 컴포넌트 추가
- 각 카테고리별 완료/전체 개수 및 퍼센트 표시
- 100% 완료 시 "완료!" 배지 표시
- 카테고리 클릭 시 해당 카테고리로 필터링

**수정된 파일**
- src/services/ContentParticipationService.ts - 스트릭 기능 추가
- src/components/ContentExplore.tsx - 3개 컴포넌트 추가 및 통합